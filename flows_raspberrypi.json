[{"id":"8950309.ac8df5","type":"tab","label":"Control","disabled":false,"info":""},{"id":"32eb8ead.b784aa","type":"tab","label":"Data","disabled":false,"info":""},{"id":"d30569df.0070c8","type":"tab","label":"Git backup nodes","disabled":false,"info":""},{"id":"2b262bac.6b00cc","type":"tab","label":"Testing","disabled":true,"info":""},{"id":"7d4144a7.f74aa4","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#ce0700","baseFont":"Arial,Arial,Helvetica,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","reset":false},"themeState":{"base-color":{"default":"#0094CE","value":"#ce0700","edited":true},"page-titlebar-backgroundColor":{"value":"#ce0700","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#000000","edited":false},"group-textColor":{"value":"#ff231b","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#ce0700","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"Arial,Arial,Helvetica,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Postprocessing Dashboard in Quality Science Laboratory at TU Berlin","hideToolbar":"false","allowSwipe":"false","lockMenu":"true","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"fb57fe34.458988","type":"ui_tab","z":"","name":"Data","icon":"dashboard","order":1,"disabled":false,"hidden":false},{"id":"c4cbf3bf.6032c8","type":"ui_group","z":"","name":"Control Buttons","tab":"5987543c.d1e64c","disp":true,"width":"6","collapse":false},{"id":"5987543c.d1e64c","type":"ui_tab","z":"","name":"Control","icon":"dashboard","order":2,"disabled":false,"hidden":false},{"id":"d4324637.9bc398","type":"ui_group","z":"","name":"Current sensor values","tab":"fb57fe34.458988","order":1,"disp":true,"width":"6","collapse":false},{"id":"868923ef.eb6e3","type":"ui_group","z":"","name":"Data stream","tab":"fb57fe34.458988","order":2,"disp":true,"width":"6","collapse":false},{"id":"cb2dc2a2.6afc18","type":"ui_group","z":"","name":"Connection information","tab":"fb57fe34.458988","order":3,"disp":true,"width":"6","collapse":false},{"id":"5000d82f.7f3448","type":"git-nodes-config","z":"","name":"git backup nodes","git":"git@gitlab.tubit.tu-berlin.de:ban9858/Node-RED_SPS.git"},{"id":"e4363a5b.562d08","type":"ui_spacer","name":"spacer","group":"d4324637.9bc398","order":1,"width":1,"height":1},{"id":"376ff55.593d90a","type":"ui_spacer","name":"spacer","group":"d4324637.9bc398","order":1,"width":1,"height":1},{"id":"e89b5815.6293e","type":"ui_spacer","name":"spacer","group":"d4324637.9bc398","order":1,"width":1,"height":1},{"id":"30c90b9b.501374","type":"ui_group","z":"","name":"Processing Specification","tab":"fb57fe34.458988","disp":true,"width":"6","collapse":false},{"id":"fa94d8b9.dac9d","type":"ui_button","z":"8950309.ac8df5","name":"git button","group":"c4cbf3bf.6032c8","order":1,"width":0,"height":0,"passthru":false,"label":"Update Controllino Code","tooltip":"","color":"","bgcolor":"","icon":"","payload":"Are you sure you want to update the Controllino code?","payloadType":"str","topic":"","x":143.14996337890625,"y":89.16670227050781,"wires":[["1f048b92.407dec"]]},{"id":"460b2cec.bd5034","type":"ui_button","z":"8950309.ac8df5","name":"stop button","group":"c4cbf3bf.6032c8","order":3,"width":0,"height":0,"passthru":false,"label":"Emergency Stop","tooltip":"","color":"","bgcolor":"","icon":"","payload":"Sure that you want to stop the Controllino?","payloadType":"str","topic":"","x":186.1499786376953,"y":261.1666564941406,"wires":[["5b70c43c.0d6964"]]},{"id":"df951afe.49b258","type":"exec","z":"8950309.ac8df5","command":"/home/pi/Desktop/Scripts/update_controllino_scipt.sh","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"git exec update","x":472.14996337890625,"y":83.80000305175781,"wires":[["667de301.65c0d4"],[],["cc5ade2.04050a"]],"outputLabels":["MESSAGE","",""]},{"id":"667de301.65c0d4","type":"ui_toast","z":"8950309.ac8df5","position":"top right","displayTime":"17","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"","x":708.1499633789062,"y":71.36665344238281,"wires":[],"inputLabels":["MESSAGE"],"icon":"node-red/inject.png"},{"id":"cc5ade2.04050a","type":"debug","z":"8950309.ac8df5","name":"","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","x":611.1499786376953,"y":166.96670532226562,"wires":[]},{"id":"96d5e66b.c9b0b8","type":"ui_button","z":"8950309.ac8df5","name":"git scipt button","group":"c4cbf3bf.6032c8","order":2,"width":0,"height":0,"passthru":false,"label":"Update Scipts on Raspberry Pi","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":193.56666564941406,"y":482.76666259765625,"wires":[["af5c9162.9882"]]},{"id":"af5c9162.9882","type":"exec","z":"8950309.ac8df5","command":"/home/pi/Desktop/Scripts/update_pi_scipts.sh","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"git exec scipts update","x":482.566650390625,"y":478.39996337890625,"wires":[["34df920.86973ee"],[],["a417619c.8c0c78"]],"outputLabels":["MESSAGE","",""]},{"id":"34df920.86973ee","type":"ui_toast","z":"8950309.ac8df5","position":"top right","displayTime":"9","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"","x":789.5666656494141,"y":443.9666290283203,"wires":[],"inputLabels":["MESSAGE"],"icon":"node-red/inject.png"},{"id":"a417619c.8c0c78","type":"debug","z":"8950309.ac8df5","name":"","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","x":775.5666656494141,"y":535.5666656494141,"wires":[]},{"id":"5b70c43c.0d6964","type":"ui_toast","z":"8950309.ac8df5","position":"dialog","displayTime":"3","highlight":"","outputs":1,"ok":"OK","cancel":"Cancel","topic":"","name":"","x":373.14996337890625,"y":262.6667175292969,"wires":[["194a647d.bcd0f4"]]},{"id":"194a647d.bcd0f4","type":"exec","z":"8950309.ac8df5","command":"/home/pi/Desktop/Scripts/Controllino_stop.sh","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"git exec stop","x":612.566650390625,"y":269.0666809082031,"wires":[["12ba054a.d52e6b"],[],["bb4fa3cf.4ca548"]],"outputLabels":["MESSAGE","",""]},{"id":"12ba054a.d52e6b","type":"ui_toast","z":"8950309.ac8df5","position":"top right","displayTime":"9","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"","x":857.566650390625,"y":238.63333129882812,"wires":[],"inputLabels":["MESSAGE"],"icon":"node-red/inject.png"},{"id":"bb4fa3cf.4ca548","type":"debug","z":"8950309.ac8df5","name":"","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","x":824.566650390625,"y":339.2333679199219,"wires":[]},{"id":"8cd515ff.d5e9c8","type":"git-nodes","z":"d30569df.0070c8","label":"","branch":"master","sourcebranch":"master","gitadd":"settings.js,package.json,.config.json,lib","gitrmcache":"nodes/*/x,nodes/*/y,nodes/*/z","debugging":true,"git":"5000d82f.7f3448","x":244.1499786376953,"y":151.56666564941406,"wires":[]},{"id":"592d9e70.f2ac38","type":"ui_gauge","z":"32eb8ead.b784aa","name":"temp gauge","group":"d4324637.9bc398","order":0,"width":0,"height":0,"gtype":"gage","title":"Temperature","label":"°C","format":"{{msg.payload}}","min":0,"max":"70","colors":["#00b500","#e6e600","#ca3838"],"seg1":"40","seg2":"50","x":1236.3999633789062,"y":452.2055358886719,"wires":[]},{"id":"262d9524.05fa9a","type":"ui_gauge","z":"32eb8ead.b784aa","name":"flow gauge","group":"d4324637.9bc398","order":1,"width":0,"height":0,"gtype":"gage","title":"Flow rate","label":"m³/s","format":"{{value}}","min":0,"max":"30","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1217.76123046875,"y":776.3722229003906,"wires":[]},{"id":"4c674ea6.fd5af","type":"inject","z":"2b262bac.6b00cc","name":"","topic":"","payload":"message","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":"2","x":149.83331298828125,"y":546.9761962890625,"wires":[["3f3efca7.f47a44"]]},{"id":"3f3efca7.f47a44","type":"function","z":"2b262bac.6b00cc","name":"counter","func":"var count=context.get('counter') || 0; //create \"counter\"\ncount +=1;\nmsg.payload= count;\ncontext.set('counter',count);\nmsg.count = context.get('counter'); \nreturn msg;\n\n// save in flow.set -> not just in box but in flow\n// save in all flows -> global.set","outputs":1,"noerr":0,"x":359.8332939147949,"y":547.767822265625,"wires":[["4a55a06f.888f88","1e3a478c.c626f8","eebdb688.392718"]]},{"id":"1e3a478c.c626f8","type":"debug","z":"2b262bac.6b00cc","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":544.8332862854004,"y":497.12191009521484,"wires":[]},{"id":"4a55a06f.888f88","type":"debug","z":"2b262bac.6b00cc","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":552.3332939147949,"y":613.3719940185547,"wires":[]},{"id":"eebdb688.392718","type":"ui_text","z":"2b262bac.6b00cc","group":"868923ef.eb6e3","order":2,"width":0,"height":0,"name":"","label":"Messages ","format":"{{msg.payload}}","layout":"row-spread","x":738.5832939147949,"y":533.8928527832031,"wires":[]},{"id":"d07e9003.5d74c","type":"inject","z":"2b262bac.6b00cc","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":184.83329391479492,"y":772.5178451538086,"wires":[["1b5d15e9.78c52a"]]},{"id":"1b5d15e9.78c52a","type":"file in","z":"2b262bac.6b00cc","name":"read file","filename":"/home/pi/Desktop/temp/error.log","format":"utf8","chunk":false,"sendError":true,"x":338.5832862854004,"y":696.7678451538086,"wires":[["2078b655.56847a","885854a2.2f0398"]]},{"id":"4f7a868a.38a628","type":"ui_text","z":"2b262bac.6b00cc","group":"cb2dc2a2.6afc18","order":1,"width":0,"height":0,"name":"info","label":"Info:","format":"{{msg.payload}}","layout":"row-spread","x":679.8332862854004,"y":843.4342880249023,"wires":[]},{"id":"2078b655.56847a","type":"switch","z":"2b262bac.6b00cc","name":"","property":"payload","propertyType":"msg","rules":[{"t":"nempty"},{"t":"eq","v":"undefined","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":337.3332862854004,"y":912.8511276245117,"wires":[["4f7a868a.38a628"],["a487de9.8fbd32","967fc342.9a679"]]},{"id":"a487de9.8fbd32","type":"change","z":"2b262bac.6b00cc","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Good connection","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":567.3332862854004,"y":941.413688659668,"wires":[["4f7a868a.38a628","967fc342.9a679"]]},{"id":"967fc342.9a679","type":"debug","z":"2b262bac.6b00cc","name":"","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"true","x":581.0832939147949,"y":1056.0178680419922,"wires":[]},{"id":"885854a2.2f0398","type":"debug","z":"2b262bac.6b00cc","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":599.8332939147949,"y":704.7678680419922,"wires":[]},{"id":"8f32a661.5fbc68","type":"inject","z":"2b262bac.6b00cc","name":"msg.error","topic":"Connection","payload":"Connection error","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":208.40475463867188,"y":125.54762268066406,"wires":[["d7b62be5.1c2db8"]]},{"id":"d7b62be5.1c2db8","type":"file","z":"2b262bac.6b00cc","name":"","filename":"/home/pi/Desktop/temp/error.log","appendNewline":true,"createDir":false,"overwriteFile":"true","x":400.57139587402344,"y":193.48092651367188,"wires":[["b5413b91.d31658"]]},{"id":"77b73741.8dd598","type":"inject","z":"2b262bac.6b00cc","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":179.78807067871094,"y":305.03094482421875,"wires":[["8c35d55c.f20a38"]]},{"id":"8c35d55c.f20a38","type":"file","z":"2b262bac.6b00cc","name":"","filename":"/home/pi/Desktop/temp/error.log","appendNewline":true,"createDir":false,"overwriteFile":"delete","x":440.3047332763672,"y":305.4642791748047,"wires":[["73d3c051.614308"]]},{"id":"b5413b91.d31658","type":"debug","z":"2b262bac.6b00cc","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":667.5714263916016,"y":176.73098754882812,"wires":[]},{"id":"73d3c051.614308","type":"debug","z":"2b262bac.6b00cc","name":"","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","x":623.5713958740234,"y":351.4809265136719,"wires":[]},{"id":"5c514d27.addee4","type":"inject","z":"32eb8ead.b784aa","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":128.13888549804688,"y":384.8055419921875,"wires":[["c61c0218.dcc0a"]]},{"id":"c61c0218.dcc0a","type":"file in","z":"32eb8ead.b784aa","name":"","filename":"/home/pi/Desktop/temp/Data/string2.txt","format":"utf8","chunk":false,"sendError":false,"x":253.58327811104914,"y":452.3253609793527,"wires":[["5cd7ca65.7f911c"]]},{"id":"5cd7ca65.7f911c","type":"split","z":"32eb8ead.b784aa","name":"","splt":"//","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"split","x":528.3373413085938,"y":391.88885498046875,"wires":[["992497d5.56c398","b738aaa2.0fe278"]]},{"id":"82ca0c58.0c112","type":"delay","z":"32eb8ead.b784aa","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":966.1413879394531,"y":456.50262451171875,"wires":[["592d9e70.f2ac38"]]},{"id":"992497d5.56c398","type":"function","z":"32eb8ead.b784aa","name":"split.variables","func":"// var declanation\nvar t =global.get('temp');\nvar d =global.get('flow');\nvar x = msg.payload;\ny =context.get('yy') || 0;\nz =context.get('zz') || 0;\n\n//splits string \nparts = x.split(\"/\");\n\n//get temperature value\nt = parts[1];\nt=t.split(\":+\");\nt=t[1];\nt=t/10;\n\n// get flow rate value\nd =parts[2];\nd=d.split(\":\");\nd=d[1];\nd=d*1;\n\n// save \"t\" and \"d\" globally\nglobal.set('temp',t);\nglobal.set('flow',d);\n\nreturn msg;","outputs":1,"noerr":0,"x":712.4166259765625,"y":530.7499694824219,"wires":[["6154f240.3bbd9c","9d690cf.d4e19f","b738aaa2.0fe278"]]},{"id":"6154f240.3bbd9c","type":"function","z":"32eb8ead.b784aa","name":"temp","func":"var x = global.get('temp');\nmsg.payload = x;\nreturn msg;","outputs":1,"noerr":0,"x":897.4166564941406,"y":565.4999694824219,"wires":[["82ca0c58.0c112","f76afaed.1b8d98"]]},{"id":"f76afaed.1b8d98","type":"debug","z":"32eb8ead.b784aa","name":"","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","x":1177.52783203125,"y":677.5721740722656,"wires":[]},{"id":"9d690cf.d4e19f","type":"function","z":"32eb8ead.b784aa","name":"flow","func":"var x = global.get('flow');\n\nmsg.payload =x;\nreturn msg;","outputs":1,"noerr":0,"x":851.4166564941406,"y":654.6333312988281,"wires":[["f76afaed.1b8d98","feb6aaef.23c4"]]},{"id":"b738aaa2.0fe278","type":"debug","z":"32eb8ead.b784aa","name":"","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","x":766.6666666666666,"y":318.88888888888886,"wires":[]},{"id":"feb6aaef.23c4","type":"delay","z":"32eb8ead.b784aa","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":957.77783203125,"y":741.1111145019531,"wires":[["262d9524.05fa9a"]]},{"id":"1f048b92.407dec","type":"ui_toast","z":"8950309.ac8df5","position":"dialog","displayTime":"3","highlight":"","outputs":1,"ok":"OK","cancel":"Cancel","topic":"","name":"","x":342,"y":163,"wires":[["df951afe.49b258"]]},{"id":"cb4b4d7d.d37cc","type":"debug","z":"32eb8ead.b784aa","name":"","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","x":589.9999389648438,"y":670.5833129882812,"wires":[]},{"id":"8d73dda9.e0399","type":"function","z":"32eb8ead.b784aa","name":"split.variables2","func":"// var declanation\nvar t =global.get('temp');\nvar d =global.get('flow');\nvar x = msg.payload;\ny =context.get('yy') || 0;\nz =context.get('zz') || 0;\n\n//splits string \nparts = x.split(\"/\");\n\n//get temperature value\nt = parts[0];\nt=t.split(\":\");\nt=t[1];\nt=t*1;\n\n// get flow rate value\nd =parts[1];\nd=d.split(\":\");\nd=d[1];\nd=d*1;\n\n// save \"t\" and \"d\" globally\nglobal.set('temp',t);\nglobal.set('flow',d);\n\nreturn msg;","outputs":1,"noerr":0,"x":490,"y":813.3333129882812,"wires":[["750f94a9.49167c","788a114d.a62fc","e5015d25.e4bf6"]]},{"id":"750f94a9.49167c","type":"function","z":"32eb8ead.b784aa","name":"duration","func":"var x = global.get('temp');\nmsg.payload = x;\nreturn msg;","outputs":1,"noerr":0,"x":743.3333129882812,"y":819.9999389648438,"wires":[["896c2c1a.f5e588"]]},{"id":"788a114d.a62fc","type":"function","z":"32eb8ead.b784aa","name":"velocity1","func":"var x = global.get('flow');\nmsg.payload = x;\nreturn msg;","outputs":1,"noerr":0,"x":745,"y":873.3333129882812,"wires":[["e8713fd8.c0964"]]},{"id":"896c2c1a.f5e588","type":"ui_text","z":"32eb8ead.b784aa","group":"30c90b9b.501374","order":1,"width":0,"height":0,"name":"","label":"Total Duration [min]: ","format":"{{msg.payload}}","layout":"row-spread","x":1010,"y":820,"wires":[]},{"id":"e8713fd8.c0964","type":"ui_text","z":"32eb8ead.b784aa","group":"30c90b9b.501374","order":5,"width":0,"height":0,"name":"","label":"Filling Quantity [l]:  ","format":"{{msg.payload}}","layout":"row-spread","x":998.3331298828125,"y":874.9999389648438,"wires":[]},{"id":"3cc1bcaf.908a2c","type":"inject","z":"2b262bac.6b00cc","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":113.33331298828125,"y":1281.6666259765625,"wires":[["ac46c393.8fe58"]]},{"id":"ac46c393.8fe58","type":"file in","z":"2b262bac.6b00cc","name":"","filename":"/home/pi/Desktop/temp/Data/String.txt","format":"utf8","chunk":false,"sendError":false,"x":238.77770560128351,"y":1349.1864449637278,"wires":[["c99bbb8f.e5f36"]]},{"id":"c99bbb8f.e5f36","type":"split","z":"2b262bac.6b00cc","name":"","splt":"//","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"split","x":462.281733921596,"y":1279.999952043806,"wires":[["f22e36bc.7868f","d6939078.3223"]]},{"id":"f22e36bc.7868f","type":"debug","z":"2b262bac.6b00cc","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":607.585933140346,"y":1247.039632524763,"wires":[]},{"id":"6345a22a.a825ec","type":"ui_text","z":"2b262bac.6b00cc","group":"868923ef.eb6e3","order":1,"width":0,"height":0,"name":"","label":"","format":"{{msg.payload}}","layout":"row-spread","x":750.919185093471,"y":1305.1507393973216,"wires":[]},{"id":"d6939078.3223","type":"delay","z":"2b262bac.6b00cc","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"0.1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":591.3358721051898,"y":1372.3636910574778,"wires":[["6345a22a.a825ec"]]},{"id":"e5015d25.e4bf6","type":"function","z":"32eb8ead.b784aa","name":"rotationspeed","func":"var x = global.get('rotationspeed');\nmsg.payload = x;\nreturn msg;","outputs":1,"noerr":0,"x":768.3333129882812,"y":946.6666259765625,"wires":[["db686c1d.5f4f38"]]},{"id":"db686c1d.5f4f38","type":"ui_text","z":"32eb8ead.b784aa","group":"30c90b9b.501374","order":5,"width":0,"height":0,"name":"","label":"Rotation Speed [U/min]:","format":"{{msg.payload}}","layout":"row-spread","x":1018.3333129882812,"y":951.6666259765625,"wires":[]},{"id":"5e5020d3.7d58e8","type":"file in","z":"32eb8ead.b784aa","name":"specification","filename":"/home/pi/Desktop/temp/ProcessingInfo/specification.txt","format":"utf8","chunk":false,"sendError":true,"x":252,"y":778,"wires":[["8d73dda9.e0399","cb4b4d7d.d37cc"]]},{"id":"2b0194b5.9bb7e4","type":"inject","z":"32eb8ead.b784aa","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":118,"y":674,"wires":[["5e5020d3.7d58e8"]]},{"id":"cab4e7ce.65cec8","type":"inject","z":"32eb8ead.b784aa","name":"","topic":"","payload":"true","payloadType":"bool","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":203.33331298828125,"y":1286.6666259765625,"wires":[["7e644a43.d367ec"]]},{"id":"7e644a43.d367ec","type":"file in","z":"32eb8ead.b784aa","name":"","filename":"/home/pi/Desktop/temp/ProcessingInfo/specification.txt","format":"lines","chunk":false,"sendError":true,"x":368.7777056012835,"y":1354.1864449637278,"wires":[["93095bfb.aaa53","e4574032.b0b77"]]},{"id":"93095bfb.aaa53","type":"function","z":"32eb8ead.b784aa","name":"split.variables","func":"// var declanation\nvar t =global.get('temp');\nvar d =global.get('flow');\nvar x = msg.payload;\nvar parts =global.get('part');\ny =context.get('yy') || 0;\nz =context.get('zz') || 0;\n\n//splits string \nparts = x.split(\"/\");\n\n//get temperature value\nt= parts[1];\nt=t.split(\":\");\nt=t[1];\nt=t*1;\n\n// get flow rate value\nd =parts[2];\nd=d.split(\":\");\nd=d[1];\nd=d*1;\n\n// save \"t\" and \"d\" globally\nglobal.set('part',parts);\nglobal.set('flow',d);\n\nreturn msg;","outputs":1,"noerr":0,"x":787.6110534667969,"y":1432.6110534667969,"wires":[["d19fa06c.82a6e","e4574032.b0b77","8db06de9.8a68d8"]],"inputLabels":["msg.payload"]},{"id":"d19fa06c.82a6e","type":"function","z":"32eb8ead.b784aa","name":"temp","func":"var x = global.get('part');\nmsg.payload = x;\nreturn msg;","outputs":1,"noerr":0,"x":965.9444580078125,"y":1454.0277099609375,"wires":[["db39feff.9b322"]]},{"id":"e4574032.b0b77","type":"debug","z":"32eb8ead.b784aa","name":"","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","x":841.861094156901,"y":1220.749972873264,"wires":[]},{"id":"8db06de9.8a68d8","type":"function","z":"32eb8ead.b784aa","name":"flow","func":"var x = global.get('flow');\n\nmsg.payload =x;\nreturn msg;","outputs":1,"noerr":0,"x":967.6553955078125,"y":1550.260986328125,"wires":[["d70e0b8d.9b304"]]},{"id":"db39feff.9b322","type":"ui_text","z":"32eb8ead.b784aa","group":"30c90b9b.501374","order":1,"width":0,"height":0,"name":"","label":"Total Duration [min]: ","format":"{{msg.payload}}","layout":"row-spread","x":1210,"y":1463.333251953125,"wires":[]},{"id":"d70e0b8d.9b304","type":"ui_text","z":"32eb8ead.b784aa","group":"30c90b9b.501374","order":5,"width":0,"height":0,"name":"","label":"Filling Quantity [l]:  ","format":"{{msg.payload}}","layout":"row-spread","x":1188,"y":1562,"wires":[]}]